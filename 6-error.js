// 6 Требуется найти одну ошибку в следующем коде:
var str = "\npurschases(\n  Apple(\n    price: 100\n  ),\n  Banana(\n    price: 200\n  )\n)\n";
/**
 * Находит первое выражение в скобках, начиная с заданной позиции в строке.
 *
 * @param {string} str - Строка, в которой нужно произвести поиск.
 * @param {number} pos - Позиция, с которой нужно начать поиск.
 * @return {string} - Найденное выражение в скобках.
 */
function bracket(str, pos) {
    // Находим индекс открывающей скобки, начиная с заданной позиции
    var openIndex = str.indexOf("(", pos);
    // Если открывающая скобка не найдена, выбрасывается ошибка
    if (openIndex === -1) {
        throw new Error("Invalid index: ".concat(pos));
    }
    // Инициализируем счетчик для отслеживания вложенности скобок
    var count = 1;
    // Перебираем символы после открывающей скобки
    for (var i = openIndex + 1; i < str.length; i++) {
        // Если встречается открывающая скобка, увеличиваем счетчик
        if (str[i] === "(") {
            count++;
        }
        // Если встречается закрывающая скобка, уменьшаем счетчик
        else if (str[i] === ")") {
            // Если счетчик становится равным 1, то нашли нужную скобку
            if (--count === 0) {
                // Возвращаем подстроку от открывающей скобки до закрывающей
                return str.substring(openIndex, i + 1);
            }
        }
    }
    // Если скобка не найдена, выбрасывается ошибка
    throw new Error("Invalid index: ".concat(pos));
}
// Вызываем функцию и выводим результат в консоль
console.log(bracket(str, 2));
console.log(bracket(str, 14));
